<html>
<head>
</head>
<body>
  <div id='book-index-grid'>
    <div id='top-stats-grid'>
      <div id='top-book-stats'>
        <h3>Best Books:</h3>
        <% @top_three_books.each do |book| %>
          <h4><%= book.title %></h4>
          <% if book.average_rating %>
            <p>Average Rating: <%= book.average_rating %> / 5.0</p>
          <% else %>
            <p>Average Rating: None</p>
          <% end %>
        <% end %>
      </div>
      <div id='bottom-book-stats'>
        <h3>Worst Books:</h3>
        <% @bottom_three_books.each do |book| %>
          <h4><%= book.title %></h4>
          <% if book.average_rating %>
            <p>Average Rating: <%= book.average_rating %> / 5.0</p>
          <% else %>
            <p>Average Rating: None</p>
          <% end %>
        <% end %>
      </div>
      <div id='top-user-stats'>
        <h3>Top Users:</h3>
        <% @top_users.each do |user| %>
        <h4><%= user.name %></h4>
        <p>Total Reviews: <%= user.reviews.count %></p>
        <% end %>
      </div>
    </div>
    <div id='sorting-grid'>
      <p>Sort books by:</p>
      <div id='sorting-bars'>
        <div id='sorting-bar-1'>
          <%= link_to('Pages (Ascending)', books_path(sort: :pages, order: :asc)) %>
          <%= link_to('Rating (Ascending)', books_path(sort: :rating, order: :asc)) %>
          <%= link_to('Reviews (Ascending)', books_path(sort: :review_number, order: :asc)) %>
        </div>
        <div id='sorting-bar-2'>
          <%= link_to('Pages (Descending)', books_path(sort: :pages, order: :desc)) %>
          <%= link_to('Rating (Descending)', books_path(sort: :rating, order: :desc)) %>
          <%= link_to('Reviews (Descending)', books_path(sort: :review_number, order: :desc)) %>
        </div>
      </div>
      </div>
    </div>
  </div>
</body>
</html>
